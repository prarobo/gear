<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <!--Common parameters-->
  <arg name="session_id"        default="test"/>
  <arg name="data_dir"          default="/mnt/md0/gear_data"/>
  <arg name="image_extn"        default=".png"/>
  <arg name="start_manager"     default="true"/>
  <arg name="nodelet_manager"   default="gear"/>
  <arg name="synchronize"       default="true"/>
  <arg name="frame_rate"        default="30"/>
  
  <!-- Parameters to control sensor -->
  <arg name="enable_kinect1"    default="true"/>
  <arg name="enable_kinect2"    default="true"/>
  <arg name="enable_kinect3"    default="true"/>
  <arg name="enable_pointgrey1" default="true"/>
  <arg name="enable_pointgrey2" default="true"/>

  <!-- Synchronized logger -->
  <include file="$(find gear_image_handler)/launch/synchronized_logger.launch" if="$(arg synchronize)">
    <arg name="frame_rate"      value="$(arg frame_rate)"/>
  </include>

  <!--kinect1 color-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_kinect1)">
    <arg name="base_name"       value="k1"/>
    <arg name="image_type"      value="color"/>
    <arg name="image_def"       value="hd"/>      
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--kinect1 depth-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_kinect1)">
    <arg name="base_name"       value="k1"/>
    <arg name="image_type"      value="depth"/>
    <arg name="image_def"       value="sd"/>      
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--kinect2 color-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_kinect2)">
    <arg name="base_name"       value="k2"/>
    <arg name="image_type"      value="color"/>
    <arg name="image_def"       value="hd"/>      
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--kinect2 depth-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_kinect2)">
    <arg name="base_name"       value="k2"/>
    <arg name="image_type"      value="depth"/>
    <arg name="image_def"       value="sd"/>      
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--kinect3 color-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_kinect3)">
    <arg name="base_name"       value="k3"/>
    <arg name="image_type"      value="color"/>
    <arg name="image_def"       value="hd"/>      
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--kinect3 depth-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_kinect3)">
    <arg name="base_name"       value="k3"/>
    <arg name="image_type"      value="depth"/>
    <arg name="image_def"       value="sd"/>      
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--pointgrey1 color-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_pointgrey1)">
    <arg name="base_name"       value="p1"/>
    <arg name="image_type"      value="color"/>
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

  <!--pointgrey2 color-->
  <include file="$(find gear_image_handler)/launch/image_logger.launch" if="$(arg enable_pointgrey2)">
    <arg name="base_name"       value="p2"/>
    <arg name="image_type"      value="color"/>
    <arg name="start_manager"   value="$(arg start_manager)"/>
    <arg name="nodelet_manager" value="$(arg nodelet_manager)" unless="$(arg start_manager)"/>
    <arg name="use_sync"        value="$(arg synchronize)"/>
  </include>

</launch>
  